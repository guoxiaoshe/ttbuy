(function(){"use strict";var t={4725:function(t,e,n){var s=n(8935),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("Header"),t._l(t.list,(function(e){return n("Goods",{key:e.id,attrs:{id:e.id,title:e.goods_name,pic:e.goods_img,price:e.goods_price,state:e.goods_state,count:e.goods_count},on:{stateChange:t.changeStateData}})})),n("Footer",{attrs:{isFull:t.fullstate,amount:t.amt,numslct:t.numselected},on:{changefull:t.ctrla}})],2)},i=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-container"},[t._v("淘淘购物车")])},a=[],c={},u=c,l=n(1001),d=(0,l.Z)(u,r,a,!1,null,"297ae774",null),f=d.exports,p=n(7203),h=n.n(p),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goods-container"},[n("div",{staticClass:"thumb"},[n("div",{staticClass:"custom-control custom-checkbox"},[n("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"cb"+t.id},domProps:{checked:t.state},on:{change:t.checkChange}}),n("label",{staticClass:"custom-control-label",attrs:{for:"cb"+t.id}},[n("img",{attrs:{src:t.pic,alt:""}})])])]),n("div",{staticClass:"goods-info"},[n("h6",{staticClass:"goods-title"},[t._v(t._s(t.title))]),n("div",{staticClass:"goods-info-bottom"},[n("span",{staticClass:"goods-price"},[t._v("￥"+t._s(t.price))]),n("Counter",{attrs:{id:t.id,num:t.count}})],1)])])},b=[],g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"number-container d-flex justify-content-center align-items-center"},[n("button",{staticClass:"btn btn-light btn-sm",attrs:{type:"button"},on:{click:t.sub}},[t._v("-")]),n("span",{staticClass:"number-box"},[t._v(t._s(t.num))]),n("button",{staticClass:"btn btn-light btn-sm",attrs:{type:"button"},on:{click:t.add}},[t._v("+")])])},v=[],_=new s.Z,y={props:{id:{require:!0,type:Number},num:{default:1,type:Number}},methods:{add(){const t={id:this.id,val:this.num+1};_.$emit("share",t)},sub(){if(this.num-1===0)return;const t={id:this.id,val:this.num-1};_.$emit("share",t)}}},C=y,k=(0,l.Z)(C,g,v,!1,null,"53bcb75c",null),x=k.exports,w={props:{id:{require:!0,type:Number},title:{default:"",type:String},pic:{default:"",type:String},price:{default:0,type:Number},state:{default:!0,type:Boolean},count:{default:1,type:Number}},components:{Counter:x},methods:{checkChange(t){const e=t.target.checked;this.$emit("stateChange",{id:this.id,check:e})}}},O=w,$=(0,l.Z)(O,m,b,!1,null,"e05f9726",null),F=$.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer-container"},[n("div",{staticClass:"custom-control custom-checkbox"},[n("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"cbFull"},domProps:{checked:t.isFull},on:{change:t.fullchange}}),n("label",{staticClass:"custom-control-label",attrs:{for:"cbFull"}},[t._v("全选")])]),n("div",[n("span",[t._v("合计：")]),n("span",{staticClass:"total-price"},[t._v("￥"+t._s(t.amount.toFixed(2)))])]),n("button",{staticClass:"btn btn-primary btn-settle",attrs:{type:"button"}},[t._v(" 结算（"+t._s(t.numslct)+"） ")])])},j=[],E={props:{isFull:{type:Boolean,default:!1},amount:{type:Number,default:0},numslct:{default:0,type:Number}},methods:{fullchange(t){this.$emit("changefull",t.target.checked)}}},N=E,P=(0,l.Z)(N,Z,j,!1,null,"34db840a",null),S=P.exports,T={components:{Header:f,Goods:F,Footer:S},created(){this.initCartList(),_.$on("share",(t=>{this.list.some((e=>{if(e.id===t.id)return e.goods_count=t.val,!0}))}))},data(){return{list:[]}},computed:{fullstate(){return this.list.every((t=>t.goods_state))},amt(){return this.list.filter((t=>t.goods_state)).reduce(((t,e)=>t+e.goods_price*e.goods_count),0)},numselected(){return this.list.filter((t=>!0===t.goods_state)).reduce(((t,e)=>t+e.goods_count),0)}},methods:{async initCartList(){const{data:t}=await h().get("https://www.escook.cn/api/cart ");200===t.status&&(this.list=t.list)},changeStateData(t){this.list.some((e=>{if(e.id===t.id)return e.goods_state=t.check,!0}))},ctrla(t){this.list.forEach((e=>e.goods_state=t))}}},q=T,B=(0,l.Z)(q,o,i,!1,null,"a19068e4",null),D=B.exports;s.Z.config.productionTip=!1,new s.Z({render:t=>t(D)}).$mount("#app")}},e={};function n(s){var o=e[s];if(void 0!==o)return o.exports;var i=e[s]={exports:{}};return t[s](i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,s,o,i){if(!s){var r=1/0;for(l=0;l<t.length;l++){s=t[l][0],o=t[l][1],i=t[l][2];for(var a=!0,c=0;c<s.length;c++)(!1&i||r>=i)&&Object.keys(n.O).every((function(t){return n.O[t](s[c])}))?s.splice(c--,1):(a=!1,i<r&&(r=i));if(a){t.splice(l--,1);var u=o();void 0!==u&&(e=u)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[s,o,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,i,r=s[0],a=s[1],c=s[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(c)var l=c(n)}for(e&&e(s);u<r.length;u++)i=r[u],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(l)},s=self["webpackChunkttbuy"]=self["webpackChunkttbuy"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(4725)}));s=n.O(s)})();
//# sourceMappingURL=app.c29a5d4e.js.map