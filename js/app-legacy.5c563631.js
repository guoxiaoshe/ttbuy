(function(){"use strict";var t={4725:function(t,n,e){e(6992),e(8674),e(9601),e(7727);var o=e(9567),i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"app-container"},[e("Header"),t._l(t.list,(function(n){return e("Goods",{key:n.id,attrs:{id:n.id,title:n.goods_name,pic:n.goods_img,price:n.goods_price,state:n.goods_state,count:n.goods_count},on:{stateChange:t.changeStateData}})})),e("Footer",{attrs:{isFull:t.fullstate,amount:t.amt,numslct:t.numselected},on:{changefull:t.ctrla}})],2)},r=[],s=e(6198),c=(e(8975),e(1539),e(7327),e(4747),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"header-container"},[t._v("淘淘购物车")])}),a=[],u={},l=u,d=e(1001),f=(0,d.Z)(l,c,a,!1,null,"297ae774",null),h=f.exports,p=e(7203),m=e.n(p),b=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"goods-container"},[e("div",{staticClass:"thumb"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"cb"+t.id},domProps:{checked:t.state},on:{change:t.checkChange}}),e("label",{staticClass:"custom-control-label",attrs:{for:"cb"+t.id}},[e("img",{attrs:{src:t.pic,alt:""}})])])]),e("div",{staticClass:"goods-info"},[e("h6",{staticClass:"goods-title"},[t._v(t._s(t.title))]),e("div",{staticClass:"goods-info-bottom"},[e("span",{staticClass:"goods-price"},[t._v("￥"+t._s(t.price))]),e("Counter",{attrs:{id:t.id,num:t.count}})],1)])])},v=[],g=(e(9653),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"number-container d-flex justify-content-center align-items-center"},[e("button",{staticClass:"btn btn-light btn-sm",attrs:{type:"button"},on:{click:t.sub}},[t._v("-")]),e("span",{staticClass:"number-box"},[t._v(t._s(t.num))]),e("button",{staticClass:"btn btn-light btn-sm",attrs:{type:"button"},on:{click:t.add}},[t._v("+")])])}),_=[],C=new o.Z,y={props:{id:{require:!0,type:Number},num:{default:1,type:Number}},methods:{add:function(){var t={id:this.id,val:this.num+1};C.$emit("share",t)},sub:function(){if(this.num-1!==0){var t={id:this.id,val:this.num-1};C.$emit("share",t)}}}},k=y,x=(0,d.Z)(k,g,_,!1,null,"53bcb75c",null),w=x.exports,O={props:{id:{require:!0,type:Number},title:{default:"",type:String},pic:{default:"",type:String},price:{default:0,type:Number},state:{default:!0,type:Boolean},count:{default:1,type:Number}},components:{Counter:w},methods:{checkChange:function(t){var n=t.target.checked;this.$emit("stateChange",{id:this.id,check:n})}}},$=O,F=(0,d.Z)($,b,v,!1,null,"e05f9726",null),Z=F.exports,j=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"footer-container"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"cbFull"},domProps:{checked:t.isFull},on:{change:t.fullchange}}),e("label",{staticClass:"custom-control-label",attrs:{for:"cbFull"}},[t._v("全选")])]),e("div",[e("span",[t._v("合计：")]),e("span",{staticClass:"total-price"},[t._v("￥"+t._s(t.amount.toFixed(2)))])]),e("button",{staticClass:"btn btn-primary btn-settle",attrs:{type:"button"}},[t._v(" 结算（"+t._s(t.numslct)+"） ")])])},E=[],N={props:{isFull:{type:Boolean,default:!1},amount:{type:Number,default:0},numslct:{default:0,type:Number}},methods:{fullchange:function(t){this.$emit("changefull",t.target.checked)}}},P=N,S=(0,d.Z)(P,j,E,!1,null,"34db840a",null),T=S.exports,q={components:{Header:h,Goods:Z,Footer:T},created:function(){var t=this;this.initCartList(),C.$on("share",(function(n){t.list.some((function(t){if(t.id===n.id)return t.goods_count=n.val,!0}))}))},data:function(){return{list:[]}},computed:{fullstate:function(){return this.list.every((function(t){return t.goods_state}))},amt:function(){return this.list.filter((function(t){return t.goods_state})).reduce((function(t,n){return t+n.goods_price*n.goods_count}),0)},numselected:function(){return this.list.filter((function(t){return!0===t.goods_state})).reduce((function(t,n){return t+n.goods_count}),0)}},methods:{initCartList:function(){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function n(){var e,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,m().get("https://www.escook.cn/api/cart ");case 2:e=n.sent,o=e.data,200===o.status&&(t.list=o.list);case 5:case"end":return n.stop()}}),n)})))()},changeStateData:function(t){this.list.some((function(n){if(n.id===t.id)return n.goods_state=t.check,!0}))},ctrla:function(t){this.list.forEach((function(n){return n.goods_state=t}))}}},B=q,D=(0,d.Z)(B,i,r,!1,null,"a19068e4",null),G=D.exports;o.Z.config.productionTip=!1,new o.Z({render:function(t){return t(G)}}).$mount("#app")}},n={};function e(o){var i=n[o];if(void 0!==i)return i.exports;var r=n[o]={id:o,loaded:!1,exports:{}};return t[o](r,r.exports,e),r.loaded=!0,r.exports}e.m=t,function(){var t=[];e.O=function(n,o,i,r){if(!o){var s=1/0;for(l=0;l<t.length;l++){o=t[l][0],i=t[l][1],r=t[l][2];for(var c=!0,a=0;a<o.length;a++)(!1&r||s>=r)&&Object.keys(e.O).every((function(t){return e.O[t](o[a])}))?o.splice(a--,1):(c=!1,r<s&&(s=r));if(c){t.splice(l--,1);var u=i();void 0!==u&&(n=u)}}return n}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[o,i,r]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){e.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};e.O.j=function(n){return 0===t[n]};var n=function(n,o){var i,r,s=o[0],c=o[1],a=o[2],u=0;if(s.some((function(n){return 0!==t[n]}))){for(i in c)e.o(c,i)&&(e.m[i]=c[i]);if(a)var l=a(e)}for(n&&n(o);u<s.length;u++)r=s[u],e.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return e.O(l)},o=self["webpackChunkttbuy"]=self["webpackChunkttbuy"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=e.O(void 0,[998],(function(){return e(4725)}));o=e.O(o)})();
//# sourceMappingURL=app-legacy.5c563631.js.map